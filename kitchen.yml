---
driver:
  name: docker
  mount: type=bind,src=./test/integration/files,target=/files,ro
  provision_command: |
    DEBIAN_FRONTEND=noninteractive apt-get install --yes --no-install-recommends \
      wget

provisioner:
  name: shell

verifier:
  name: inspec
  inputs:
    # renovate: datasource=npm depName=semantic-release
    SEM_REL_VERSION: 24.2.8

platforms:
  - name: test
    driver:
      image: techneg/ci-semantic-release:local-test
      platform: debian

suites:
  - name: default
    provisioner:
      command: |
        rm -rf .git
        git init -b master
        cp /files/test_default/*.js .
        git add *.js
        git commit -m "feat: adding a commit for testing"
        cp /files/test_default/AUTHORS.md .
        rm -f AUTHORS.rst
